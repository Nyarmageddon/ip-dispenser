{% extends "dispenser/base.html" %}


{% block header %}
  <h2>Мои IP-адреса</h2>
{% endblock header %}

{% block content %}
  {% if messages %}
    {% for message in messages %}
      <b>{{ message }}</b>
    {% endfor %}
    <br>
  {% endif %}

  {% for ip in ip_addresses %}
    {{ ip }} (выдан {{ ip.claimed_at }})
    <a href="{% url 'dispenser:delete_ip' ip.id %}">Удалить IP</a>
    <br>
  {% empty %}
    У вас пока нет IP-адресов.
  {% endfor %}

  <div class="pagination">
    <span class="step-links">
      {% if page_obj.has_previous %}
        <a href="?page=1">1</a>
        <a href="?page={{ page_obj.previous_page_number }}">&lt;</a>
      {% endif %}

      <span class="current">
        {{ page_obj.start_index }}-{{ page_obj.end_index }}
          из {{ page_obj.paginator.count }}
      </span>

      {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">&gt;</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">{{ page_obj.paginator.num_pages }}</a>
      {% endif %}
    </span>
  </div>

  <a href="{% url 'dispenser:get_ip' 'v4' %}">Получить IPv4-адрес</a>
  <br>
  <a href="{% url 'dispenser:get_ip' 'v6' %}">Получить IPv6-адрес</a>
{% endblock content %}